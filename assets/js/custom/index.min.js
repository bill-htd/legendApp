var paraUrl=location.href;var urlParam={};paramInit(paraUrl);urlParam["egretWidth"]="600";urlParam["egretHeight"]="1204";var isTokenLogin=false;var url=decodeURI(window.location.search);var theRequest=new Object;if(url.indexOf("?")!=-1){var str=url.substr(1);strs=str.split("&");for(var i=0;i<strs.length;i++){if(strs[i].split("=")[0]=="key"){isTokenLogin=true}theRequest[strs[i].split("=")[0]]=unescape(strs[i].split("=")[1])}}var channel=theRequest["channel"];var token=theRequest["key"];var getLogin=theRequest["getLogin"];if(!channel){channel="lx"}function openUrl(e){var t=document.createElement("a");var n=document.createEvent("MouseEvents");n.initEvent("click",true,true);t.href=e;t.target="_blank";t.dispatchEvent(n)}function paramInit(e){var t=e.indexOf("?");if(t!=-1){var n=e.slice(t+1).split("&");var r;for(var a=0;a<n.length;a++){r=n[a].split("=");urlParam[r[0]]=r[1]}}}window.addEventListener("message",function(e){if(e.data.id!="eE")return;this.loginData=e.data.loginData;start(e.data.urlParam)});function getChannel(){return channel}function localLogin(e){this.loginData=e.loginData;start(e.urlParam)}function start(e){if(e){paramInit(e);paraUrl=e}var t=document.getElementById("paramIframe");if(t)document.body.removeChild(t);document.body.style.backgroundImage="url('./resource"+urlParam.ver_res+"/bg.png')";document.body.innerHTML+=""+'<div id = "testId" style="margin: auto;width: 100%;height: 100%;" '+'class="egret-player" '+'data-entry-class="Main" '+'data-scale-mode="'+urlParam["scaleMode"]+'" '+'data-orientation="'+urlParam["orientation"]+'" '+'data-frame-rate="60" '+'data-content-width="'+urlParam["egretWidth"]+'" '+'data-content-height="'+urlParam["egretHeight"]+'" '+'data-show-paint-rect="false" '+'data-multi-fingered="2" '+'data-show-fps="'+urlParam["fps"]+'" '+'data-show-log="true" '+'data-show-fps-style="x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.3">'+'<div style="text-align:center; vertical-align:middel;height:30px;"> <input id="progress" type="text" size="4" value=""   style="margin-left:100px;margin-top:500px;width:640px;background-color:transparent;border:none;color:#00ff00"></input></div>';egret.runEgret({renderMode:urlParam["renderMode"]});egret.MainContext.instance.stage.dirtyRegionPolicy=urlParam["dirty"]}function GetRequest(){var e=decodeURI(window.location.search);var t=new Object;if(e.indexOf("?")!=-1){var n=e.substr(1);strs=n.split("&");for(var r=0;r<strs.length;r++){t[strs[r].split("=")[0]]=unescape(strs[r].split("=")[1])}}return t}function showLoadProgress(e,t){document.getElementById("progress").value=t+"进度"+e+"%"}function closeLoadProgress(){document.getElementById("progress").style.display="none"}function showGame(){}function getServerName(e){if(this.loginData){for(var t=0;t<this.loginData.length;t++){if(this.loginData[t].serverId==e){return this.loginData[t].serverName}}}return""}function stop(){return false}document.oncontextmenu=stop;window.onorientationchange=function(e){var t=document.getElementById("screenHint");if(t){t.style.display="none"}};function isSafari(){if(/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)){return true}else{return false}}function sdkInit(e){}function isFullScree(){return document.isFullScreen||document.mozIsFullScreen||document.webkitIsFullScreen}function FullScree(){var e=document.documentElement;var t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;if(typeof t!="undefined"&&t){t.call(e)}}function getChargeUrl(){var e=decodeURI(window.location.search);var t=new Object;if(e.indexOf("?")!=-1){var n=e.substr(1);strs=n.split("&");for(var r=0;r<strs.length;r++){if(strs[r].split("=")[0]=="key"){isTokenLogin=true}t[strs[r].split("=")[0]]=unescape(strs[r].split("=")[1])}}var a=t["channel"];if(!a){a="lx"}return info.payUrl1+a}function getChargeUrl_2(){var e=decodeURI(window.location.search);var t=new Object;if(e.indexOf("?")!=-1){var n=e.substr(1);strs=n.split("&");for(var r=0;r<strs.length;r++){if(strs[r].split("=")[0]=="key"){isTokenLogin=true}t[strs[r].split("=")[0]]=unescape(strs[r].split("=")[1])}}var a=t["channel"];if(!a){a="lx"}return info.payUrl2+a}function IsPC(){var e=navigator.userAgent;var t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];var n=true;for(var r=0;r<t.length;r++){if(e.indexOf(t[r])>0){n=false;break}}return n}function getChatControlUrl(){return info.chat_control_address}function getkefuUrl(){return info.kefu_address}function createIframe(e){var t=document.getElementById("testId");var n=document.createElement("iframe");var r=document.createElement("div");var a=document.createElement("div");a.id="pay_bg";a.style.position="absolute";a.style.background="#000000";a.style.width="100%";a.style.height="100%";a.style.top=0;a.style.left=0;a.style.opacity=.8;a.onclick=function(){};t.appendChild(a);n.id="pay_iframe";n.style.background="#ffffff";n.src=e;n.style.position="absolute";n.style.border="0px";n.style.width="90%";n.style.height="90%";n.style.left="5%";n.style.top="5%";t.appendChild(n);r.id="pay_closeBtn";r.style.position="absolute";r.style.right=0;r.style.top="15px";r.style.background="url(./assets/images/room/close.png)";r.style.width="60px";r.style.height="60px";var i=this;r.onclick=function(){i.removeIframe()};t.appendChild(r)}function removeIframe(){var e=document.getElementById("testId");var t=document.getElementById("pay_bg");var n=document.getElementById("pay_iframe");var r=document.getElementById("pay_closeBtn");if(n){e.removeChild(n)}if(r){e.removeChild(r)}if(t){e.removeChild(t)}}function exitfullscreen(){if(document.exitFullscreen){document.exitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}}function showRecharge(e){}function showQrCode(e){}function connectError(){}function closeSocket(){Main.closesocket()}function checkAWY(){}function reportSDK(e){}function showQRCode(){}function isFocus(){}function isShare(){}function roleUp(){}function enterGame(){}function createRole(){}function getVipInfo(){}function isShowGameDesktop(){}function saveGameDesktop(){}function getClientVersion(e){if(e)e(0)}var ver="0.12";var verUrl="http://nnqp.ruida2017.com/game/ver.txt?ver=";